(function(e){function t(t){for(var a,o,l=t[0],c=t[1],d=t[2],r=0,p=[];r<l.length;r++)o=l[r],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(p.length)p.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],a=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=i[0]))}return e}var a={},s={app:0},n=[];function o(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"af03a4cf"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise((function(t,a){i=s[e]=[t,a]}));t.push(i[2]=a);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(e);var d=new Error;n=function(t){c.onerror=c.onload=null,clearTimeout(r);var i=s[e];if(0!==i){if(i){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,i[1](d)}s[e]=void 0}};var r=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(i,a,function(t){return e[t]}.bind(null,a));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var r=0;r<c.length;r++)t(c[r]);var h=d;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0898":function(e,t,i){"use strict";i("5af5")},1005:function(e,t,i){},2166:function(e,t,i){"use strict";i("218a")},"218a":function(e,t,i){},4045:function(e,t,i){e.exports=i.p+"img/loading.fdf9a7e8.svg"},"56d7":function(e,t,i){"use strict";i.r(t);var a=i("7a23"),s=i("4045"),n=i.n(s);const o={id:"mininav"},l={style:{width:"100%",display:"flex","flex-direction":"row","justify-content":"flex-start","align-items":"center"}},c={style:{display:"flex","flex-direction":"column","justify-content":"space-evenly","align-items":"stretch","background-color":"black",width:"100%"}},d={id:"nav"},r=Object(a["e"])("div",{style:{top:"40px",height:"40px"}},null,-1),h={style:{display:"flex","flex-direction":"column","justify-content":"flex-start",width:"100%"}},p=Object(a["f"])('<h1 style="padding:15px;color:var(--mainCol);">Welcome to Board Of States!</h1><h4 style="padding:15px;color:var(--mainCol);">This is an experimental project, developed on purpose of demonstrating technical availabilities of several platforms, and personal skills as well. Although the service is freely available to anyone who may wish to use it for their own projects, please beware that there may exist bugs or missing features in this software... So what can you do in here?</h4><h2 style="padding:15px;color:var(--mainCol);">You can <span style="color:var(--mainOne);" class="textshadow">CREATE</span>, <span style="color:var(--mainOne);" class="textshadow">CHANGE</span> and <span style="color:var(--mainOne);" class="textshadow">SHARE</span> the work plans for your projects</h2><h3 style="padding:15px;color:var(--mainCol);">The basic <span style="color:var(--mainOne);" class="textshadow">TODO</span>, <span style="color:var(--mainOne);" class="textshadow">DOING</span> and <span style="color:var(--mainOne);" class="textshadow">DONE</span> structure lets you and your colleagues determine current state of your jobs</h3><h4 style="padding:15px;color:var(--mainCol);">The ability to add <span style="color:var(--mainOne);" class="textshadow">COMMENTS</span> under each job provides your team an easy way to discuss the ongoing details about any job</h4><h2 style="padding:15px;color:var(--mainCol);">Sign-up now! And keep your work organized!</h2>',6),b=[p],g={id:"mid",style:{display:"flex","flex-direction":"column"}},u={style:{display:"flex","flex-direction":"row","justify-content":"space-evenly"}},m=["onClick"],f={style:{display:"flex","flex-direction":"row","justify-content":"space-evenly"}},O=["id"],v=["onClick"],y={style:{"flex-basis":"0","flex-grow":"1",display:"flex","flex-direction":"column","justify-content":"flex-start"}},j=["onClick"],w={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center"}},x=["onClick"],k=["onClick"],C=["onKeydown"],E={style:{width:"100%",color:"var(--mainOne)","z-index":"4",position:"fixed",top:"0px",left:"0px","background-color":"var(--sideOne)",display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"stretch"}},B=Object(a["e"])("div",{style:{top:"39px",height:"39px"}},null,-1),T={style:{display:"flex","flex-direction":"row","justify-content":"space-evenly"}},S=["onClick"],z={style:{display:"flex","flex-direction":"column","justify-content":"space-evently","text-align":"left"}},I={id:"comments",style:{flex:"1 1 auto","overflow-y":"auto",height:"calc(100vh - 200px + 15px)","align-items":"left"}},P={id:"loading",style:{position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw","background-color":"rgba(0,0,0,0.5)","z-index":"6"}},A=Object(a["e"])("img",{src:n.a,style:{position:"relative","z-index":"7",width:"30%",top:"50%",left:"0",transform:"translateY(-50%)"}},null,-1),H=[A];function _(e,t,i,s,n,p){const A=Object(a["x"])("Hamburger"),_=Object(a["x"])("Signup"),L=Object(a["x"])("Signin"),J=Object(a["x"])("Animated");return Object(a["s"])(),Object(a["d"])("div",null,[Object(a["e"])("div",o,[Object(a["e"])("div",l,[Object(a["E"])(Object(a["e"])("div",{style:Object(a["o"])([{color:"white",padding:"0 15px"},this.width>=768?{"margin-right":"auto"}:{}])},Object(a["z"])(this.name),5),[[a["B"],null!=this.user]]),Object(a["h"])(A,{ref:"hamburger",onToggled:t[0]||(t[0]=e=>this.hamburger=e),style:{transform:"scale(75%)","margin-left":"auto","padding-right":"5px"}},null,512)]),Object(a["E"])(Object(a["e"])("div",c,[Object(a["E"])(Object(a["e"])("div",{class:Object(a["n"])([{active:!0===this.tabs["signup"]},"tab"]),onClick:t[1]||(t[1]=e=>this.goToTab("signup"))},"Sign Up",2),[[a["B"],null==this.user]]),Object(a["E"])(Object(a["e"])("div",{class:Object(a["n"])([{active:!0===this.tabs["signin"]},"tab"]),onClick:t[2]||(t[2]=e=>this.goToTab("signin"))},"Log In",2),[[a["B"],null==this.user]]),Object(a["E"])(Object(a["e"])("div",{class:"tab",onClick:t[3]||(t[3]=()=>{this.loading||this.signOut()})},"Log Out",512),[[a["B"],null!=this.user]])],512),[[a["B"],this.hamburger]])]),Object(a["e"])("div",d,[Object(a["E"])(Object(a["e"])("div",{style:{color:"white",padding:"0 15px","margin-right":"auto"}},Object(a["z"])(this.name),513),[[a["B"],null!=this.user]]),Object(a["E"])(Object(a["e"])("div",{class:Object(a["n"])([{active:!0===this.tabs["signup"]},"tab"]),onClick:t[4]||(t[4]=e=>this.goToTab("signup"))},"Sign Up",2),[[a["B"],null==this.user]]),Object(a["E"])(Object(a["e"])("div",{class:Object(a["n"])([{active:!0===this.tabs["signin"]},"tab"]),onClick:t[5]||(t[5]=e=>this.goToTab("signin"))},"Log In",2),[[a["B"],null==this.user]]),Object(a["E"])(Object(a["e"])("div",{class:"tab",onClick:t[6]||(t[6]=()=>{this.loading||this.signOut()})},"Log Out",512),[[a["B"],null!=this.user]])]),r,Object(a["E"])(Object(a["e"])("div",{style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh","z-index":"2","background-color":"rgba(0,0,0,0.5)"},onClick:t[7]||(t[7]=()=>{this.card=null,delete this.tabs["signin"],delete this.tabs["signup"]})},null,512),[[a["B"],this.tabs["signup"]||this.tabs["signin"]||null!==this.card]]),Object(a["E"])(Object(a["h"])(_,{ref:"signup",onSignedIn:t[8]||(t[8]=e=>{this.signedIn(e)})},null,512),[[a["B"],this.tabs["signup"]]]),Object(a["E"])(Object(a["h"])(L,{ref:"signin",onSignedIn:t[9]||(t[9]=e=>{this.signedIn(e)})},null,512),[[a["B"],this.tabs["signin"]]]),Object(a["E"])(Object(a["e"])("div",h,b,512),[[a["B"],null===this.user]]),Object(a["E"])(Object(a["e"])("div",g,[Object(a["e"])("div",u,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(this.types,(e,t)=>(Object(a["s"])(),Object(a["d"])("div",{style:{"flex-basis":"0","flex-grow":"1","padding-top":"5px"},key:t,onClick:()=>{this.loading||null===this.page||(this.type=t)}},[null===this.page?(Object(a["s"])(),Object(a["d"])("div",{key:0,style:Object(a["o"])([{color:"var(--mainTwo)","font-weight":"bold"},[this.type===t||this.width>=768?{"border-bottom":"5px solid var(--mainOne)"}:{}]])},Object(a["z"])(e),5)):(Object(a["s"])(),Object(a["d"])("div",{key:1,style:Object(a["o"])([{color:"var(--mainOne)","font-weight":"bold"},[this.type===t||this.width>=768?{"border-bottom":"5px solid var(--mainOne)"}:{}]])},Object(a["z"])(e),5))],8,m))),128)),Object(a["e"])("div",{style:{"flex-basis":"0","flex-grow":"1","padding-top":"5px"},onClick:t[10]||(t[10]=()=>{this.loading||(this.type="board")})},[Object(a["e"])("div",{style:Object(a["o"])([{color:"var(--mainOne)","font-weight":"bold"},["board"===this.type||this.width>=768?{"border-bottom":"5px solid var(--mainOne)"}:{}]])},"board",4)])]),Object(a["e"])("div",f,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(this.types,(e,i)=>Object(a["E"])((Object(a["s"])(),Object(a["d"])("div",{style:{"flex-basis":"0","flex-grow":"1",display:"flex","flex-direction":"column","justify-content":"flex-start"},key:i},[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(Object.keys(this.cards),(e,t)=>Object(a["E"])((Object(a["s"])(),Object(a["d"])("div",{id:e,style:{display:"flex","flex-direction":"row","justify-content":"space-between",color:"var(--mainCol)","background-color":"var(--mainOne)",margin:"5px 5px 0px 5px","padding-top":"10px","padding-bottom":"10px","text-align":"left",padding:"10px"},key:t},[Object(a["e"])("div",{style:{"flex-grow":"1",padding:"5px"},onClick:()=>{this.card=e,this.cardContent=this.cards[e]["content"],this.cardType=this.cards[e]["type"],this.cardComment=this.cards[e]["comment"]}},Object(a["z"])(this.cards[e]["content"]),9,v)],8,O)),[[a["B"],n.cards[e]["type"]===i]])),128)),Object(a["E"])(Object(a["e"])("input",{style:{color:"var(--mainOne)","background-color":"var(--mainCol)",border:"5px solid var(--mainOne)",margin:"5px 5px 0px 5px","padding-top":"10px","padding-bottom":"10px","text-align":"left",padding:"10px","border-radius":"0"},onKeydown:t[11]||(t[11]=Object(a["F"])(e=>{this.loading||this.newJob(this.page,e)},["enter"])),placeholder:"+ new job"},null,544),[[a["B"],0===i&&null!==this.page]])],512)),[[a["B"],this.width>=768||this.type===i]])),128)),Object(a["E"])(Object(a["e"])("div",y,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(Object.keys(this.pages),(e,t)=>(Object(a["s"])(),Object(a["d"])("div",{style:{color:"var(--mainCol)","background-color":"var(--mainOne)",margin:"5px 5px 0px 5px","padding-top":"10px","padding-bottom":"10px","text-align":"left",padding:"15px",display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"stretch"},key:t,onClick:()=>{this.loading||this.page===e||this.fetchBoard(e)}},[Object(a["e"])("div",w,[Object(a["e"])("div",null,Object(a["z"])(this.pages[e]),1),Object(a["E"])(Object(a["e"])("div",{onClick:()=>{this.loading||this.deleteBoard(e)}},"x",8,x),[[a["B"],this.page===e&&this.user.email===this.admin]])]),Object(a["E"])(Object(a["e"])("div",{style:{"border-radius":"5px",padding:"5px","margin-left":"0","margin-right":"0","margin-top":"15px","background-color":"var(--mainCol)",color:"var(--mainOne)"}},Object(a["z"])("👑 "+this.admin.split("@")[0]),513),[[a["B"],this.page===e]]),(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(Object.keys(this.users),(t,i)=>Object(a["E"])((Object(a["s"])(),Object(a["d"])("div",{style:{"border-radius":"5px",padding:"5px","margin-left":"0","margin-right":"0","margin-top":"5px","background-color":"var(--mainCol)",color:"var(--mainOne)",display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"stretch"},key:i},[Object(a["e"])("div",null,Object(a["z"])("🛠️ "+t.split("@")[0]),1),Object(a["E"])(Object(a["e"])("div",{style:{color:"red"},onClick:()=>{this.loading||this.deleteUser(this.page,t)}},"x",8,k),[[a["B"],this.user.email===this.admin]])],512)),[[a["B"],this.page===e]])),128)),Object(a["E"])(Object(a["e"])("input",{style:{border:"none",padding:"5px","padding-left":"10px","margin-left":"0","margin-right":"0","margin-top":"5px","background-color":"var(--mainCol)",color:"var(--mainOne)"},placeholder:"+ new user via email address",onKeydown:Object(a["F"])(e=>{this.loading||this.newUser(this.page,e)},["enter"])},null,40,C),[[a["B"],this.page===e&&this.user.email===this.admin]])],8,j))),128)),Object(a["e"])("input",{style:{color:"var(--mainOne)","background-color":"var(--mainCol)",border:"5px solid var(--mainOne)",margin:"5px 5px 0px 5px","padding-top":"10px","padding-bottom":"10px","text-align":"left",padding:"10px","border-radius":"0"},onKeydown:t[12]||(t[12]=Object(a["F"])(e=>{this.loading||this.newBoard(e)},["enter"])),placeholder:"+ new board"},null,32)],512),[[a["B"],this.width>=768||"board"===this.type]])])],512),[[a["B"],null!==this.user&&null===this.card]]),Object(a["E"])(Object(a["e"])("div",E,[B,Object(a["e"])("div",{style:{padding:"15px","text-align":"left",height:"20px",overflow:"auto","font-weight":"bold","background-color":"white"},onClick:t[13]||(t[13]=()=>{this.loading||(this.card=null)})},Object(a["z"])(this.cardContent),1),Object(a["e"])("div",T,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(this.types,(e,t)=>(Object(a["s"])(),Object(a["d"])("div",{style:Object(a["o"])([{"padding-top":"15px","padding-bottom":"15px","text-align":"center","flex-base":"0",flex:"2"},[this.cardType===t?{"background-color":"var(--mainOne)",color:"var(--mainCol)"}:{"background-color":"var(--mainTwo)",color:"var(--mainCol)"}]]),key:t,onClick:()=>{this.loading||this.cards[this.card]["type"]===t||this.updateJobType(this.page,this.card,t)}},Object(a["z"])(e),13,S))),128)),Object(a["e"])("div",{style:{"padding-top":"15px","padding-bottom":"15px","text-align":"center","flex-base":"0",flex:"2","background-color":"rgb(200,20,20)",color:"white"},onClick:t[14]||(t[14]=()=>{this.loading||this.deleteJob(this.page,this.card)})},"delete")]),Object(a["e"])("div",z,[Object(a["e"])("div",I,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(this.cardComment,(e,t)=>(Object(a["s"])(),Object(a["d"])("div",{class:"comment textshadow",key:t,style:{padding:"5px 15px 5px 15px"}},Object(a["z"])(e),1))),128))]),Object(a["e"])("input",{style:{flex:"0 0 auto",padding:"15px",border:"none","border-radius":"0px",margin:"0"},placeholder:"+ new comment",onKeydown:t[15]||(t[15]=Object(a["F"])(e=>{this.loading||this.newComment(this.page,this.card,e)},["enter"]))},null,32)])],512),[[a["B"],null!==this.user&&null!==this.card]]),Object(a["E"])(Object(a["e"])("div",P,H,512),[[a["B"],this.loading]]),Object(a["h"])(J)])}function L(e,t,i,s,n,o){return Object(a["s"])(),Object(a["d"])("div",{class:"container",onClick:t[0]||(t[0]=e=>o.toggle(!this.toggled))},[Object(a["e"])("div",{class:Object(a["n"])(["bar1",{toggled:this.toggled}])},null,2),Object(a["e"])("div",{class:Object(a["n"])(["bar2",{toggled:this.toggled}])},null,2),Object(a["e"])("div",{class:Object(a["n"])(["bar3",{toggled:this.toggled}])},null,2)])}var J={name:"Hamburger",data(){return{toggled:!1}},props:[],emits:["toggled"],methods:{toggle(e){this.toggled=e,this.$emit("toggled",this.toggled)}},watch:{}};i("59c4");J.render=L,J.__scopeId="data-v-fc0acafc";var M=J;const U={class:"signup"},$=Object(a["f"])('<label for="email">email</label><input type="email" name="email"><label for="passwordOne">password</label><input type="password" name="passwordOne"><label for="passwordTwo">password again</label><input type="password" name="passwordTwo"><label></label><label></label><input type="submit" value="Sign Up">',9),N={style:{color:"orange"}};function W(e,t,i,s,n,o){return Object(a["s"])(),Object(a["d"])("div",U,[Object(a["e"])("form",{onSubmit:t[0]||(t[0]=Object(a["G"])(e=>this.submit(e),["prevent"]))},[$,Object(a["e"])("label",N,Object(a["z"])(this.feedback),1)],32)])}var F={data(){return{feedback:""}},props:[],emits:["signedIn"],methods:{submit(e){let t=e.target.email.value,i=e.target.passwordOne.value,a=e.target.passwordTwo.value;a===i?auth.createUserWithEmailAndPassword(t,i).then(e=>{let i=e.user;this.$emit("signedIn",i);let a=t.split(".")[0].replace(/^[a-zA-Z0-9_]/,"").trim();i.updateProfile({displayName:a}),i.sendEmailVerification()}).catch(e=>{e.code;var t=e.message;this.feedback=t}):this.feedback="Passwords don't seem to match."}}};F.render=W;var K=F;const D={class:"signin"},G=Object(a["f"])('<label for="email">email</label><input type="email" name="email" id="email"><label for="password" id="password">password</label><input type="password" name="password"><label></label><label></label><input type="submit" name="submit" value="Sign In">',7),R={style:{color:"orange"}};function Y(e,t,i,s,n,o){return Object(a["s"])(),Object(a["d"])("div",D,[Object(a["e"])("form",{onSubmit:t[1]||(t[1]=Object(a["G"])(e=>this.submit(e),["prevent"]))},[G,Object(a["e"])("span",{style:{"text-align":"center","font-size":"75%","background-color":"var(--mainOne)"},id:"forgottenLink",onClick:t[0]||(t[0]=e=>this.reset())},"Forgotten password?"),Object(a["e"])("label",R,Object(a["z"])(this.feedback),1)],32)])}var q={data(){return{feedback:""}},props:[],emits:["signedIn"],methods:{submit(e){let t=e.target.email.value,i=e.target.password.value;auth.signInWithEmailAndPassword(t,i).then(t=>{e.target.email.value="",e.target.password.value="",this.$emit("signedIn",t.user)}).catch(t=>{e.target.password.value="";t.code;var i=t.message;this.feedback=i})},reset(){auth.sendPasswordResetEmail(document.getElementById("email").value).then(e=>{document.getElementById("email").value="",document.getElementById("password").value="",this.feedback="Please check your email address for further instructions."}).catch(e=>{document.getElementById("password").value="";e.code;var t=e.message;this.feedback=t})}}};i("2166");q.render=Y;var V=q;const Z={id:"background"},Q=Object(a["f"])('<div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>',20),X=[Q];function ee(e,t){return Object(a["s"])(),Object(a["d"])("div",Z,X)}i("8c81");const te={};te.render=ee;var ie=te,ae={name:"App",components:{Hamburger:M,Signup:K,Signin:V,Animated:ie},data(){return{loading:!1,width:0,height:0,name:"",admin:"",user:null,users:{},page:null,pages:{},type:"board",types:["todo","doing","done"],cardContent:"",cardType:"",cardComment:[],card:null,cards:{},links:[],tabs:{signin:!1,signup:!1},hamburger:!1,toggledBack:!1}},computed:{},methods:{subscribe(){db.collection("pages").where("state","==","CA").onSnapshot(e=>{e.docChanges().forEach(e=>{"added"===e.type&&console.log("New city: ",e.doc.data()),"modified"===e.type&&console.log("Modified city: ",e.doc.data()),"removed"===e.type&&console.log("Removed city: ",e.doc.data())})})},goToPage(e){this.$router.push({path:e})},goToTab(e){this.$refs.hamburger.toggle(!1),Object.keys(this.tabs).forEach(e=>{delete this.tabs[e]}),null!==e&&(this.tabs[e]=!0)},async signedIn(e){this.loading=!0,this.user=e,Object.keys(this.tabs).forEach(e=>{delete this.tabs[e]}),this.$refs.hamburger.toggle(!1),await this.fetchBoards(),this.loading=!1},async signOut(){this.loading=!0,await auth.signOut(),this.loading=!1},async fetchBoards(){this.loading=!0,this.page=null,this.type="board";const e={};if(this.card=null,Object.keys(this.cards).forEach(e=>{delete this.cards[e]}),this.user){try{await db.collection("pages").where("admin","==",this.user.email).get().then(t=>{t.forEach(t=>{e[t.id]=t.data().title})}),await db.collection("pages").where("users","==",{[this.user.email]:!0}).get().then(t=>{t.forEach(t=>{e[t.id]=t.data().title})}),this.pages=e}catch(t){console.log("fetching boards failed",t)}this.loading=!1}else this.loading=!1},async fetchBoard(e){if(this.loading=!0,e!==this.page&&(this.card=null,Object.keys(this.cards).forEach(e=>{delete this.cards[e]}),this.page=null,this.type="board"),!e)return void(this.loading=!1);const t={};try{await db.collection("pages").doc(e).get().then(e=>{this.admin=e.data().admin,this.users=e.data().users}),await db.collection("pages").doc(e).collection("cards").get().then(e=>{e.forEach(e=>{t[e.id]={type:e.data().type,content:e.data().content,comment:e.data().comment}})}),this.cards=t;let i=""+this.page;this.page=e,null!==i&&i!==this.page&&(null!==unsubscribePage&&unsubscribePage(),null!==unsubscribeCards&&unsubscribeCards(),unsubscribePage=db.collection("pages").doc(this.page).onSnapshot(()=>{this.fetchBoard(this.page)}),unsubscribeCards=db.collection("pages").doc(this.page).collection("cards").onSnapshot(()=>{this.fetchBoard(this.page)})),this.card&&this.card in this.cards&&(this.cardType=this.cards[this.card]["type"],this.cardContent=this.cards[this.card]["content"],this.cardComment=this.cards[this.card]["comment"],document.getElementById("comments").scrollHeight)}catch(i){console.log("fetching board failed",i)}this.loading=!1},async newUser(e,t){try{this.loading=!0;const i=""+t.target.value,a=await db.collection("pages").doc(e).get(),s=a.data().users;s[i]=!0,await db.collection("pages").doc(e).update({users:s}),t.target.value="",this.loading=!0}catch(i){console.log("adding new user failed",i)}finally{this.loading=!1}},async deleteUser(e,t){try{this.loading=!0;const i=await db.collection("pages").doc(e).get(),a=i.data().users;delete a[t],await db.collection("pages").doc(e).update({users:a}),this.loading=!0}catch(i){console.log("deleting user failed",i)}finally{this.loading=!1}},async newJob(e,t){try{this.loading=!0,await db.collection("pages").doc(e).collection("cards").add({content:t.target.value,type:0}),t.target.value="",this.loading=!0}catch(i){console.log("adding new job failed",i)}finally{this.loading=!1}},async newComment(e,t,i){try{this.loading=!0,await db.collection("pages").doc(e).collection("cards").doc(t).get().then(a=>{const s=a.data().comment;return void 0===s||null===s?db.collection("pages").doc(e).collection("cards").doc(t).update({comment:{0:this.user.email.split("@")[0]+": "+i.target.value}}):(s[Object.keys(s).length]=this.user.email.split("@")[0]+": "+i.target.value,db.collection("pages").doc(e).collection("cards").doc(t).update({comment:s}))}).then(e=>{i.target.value=""})}catch(a){console.log("pushing new comment failed",a)}finally{this.loading=!1}},async updateJobType(e,t,i){try{this.loading=!0,await db.collection("pages").doc(e).collection("cards").doc(t).update({type:i})}catch(a){console.log("updating job type failed",a)}finally{this.loading=!1}},async deleteJob(e,t){try{this.loading=!0,await db.collection("pages").doc(e).collection("cards").doc(t).delete(),this.loading=!0,this.card=null}catch(i){console.log("deleting job failed",i)}finally{this.loading=!1}},async newBoard(e){try{this.loading=!0;const t=await db.collection("pages").add({title:e.target.value,admin:this.user.email,users:{}});await db.collection("pages").doc(t.id).collection("cards").add({content:"first job",type:0,comment:{}}),e.target.value="",await this.fetchBoards()}catch(t){console.log("adding new board failed",t)}finally{this.loading=!1}},async deleteBoard(e){try{this.loading=!0,await db.collection("pages").doc(e).collection("cards").get().then(e=>{e.forEach(e=>{e.ref.delete()})}),await db.collection("pages").doc(e).delete(),this.page===e&&(this.card=null,Object.keys(this.cards).forEach(e=>{delete this.cards[e]}),this.page=null,this.type="board"),await this.fetchBoards()}catch(t){console.log("deleting board failed",t)}finally{this.loading=!1}}},watch:{$route(e,t){this.$refs.hamburger.toggle(!1)}},created(){},mounted(){this.loading=!0,this.width=window.innerWidth,this.height=window.innerHeight,window.addEventListener("resize",()=>{this.width=window.innerWidth,this.height=window.innerHeight}),auth.onAuthStateChanged(e=>{e?(this.user=e,this.name=this.user.email.split("@")[0]):this.user=null,this.fetchBoards()})}};i("0898");ae.render=_;var se=ae,ne=i("6c02");const oe={class:"home"};function le(e,t,i,s,n,o){return Object(a["s"])(),Object(a["d"])("div",oe)}var ce={name:"Home",components:{}};ce.render=le;var de=ce;const re={class:"lost",style:{"background-color":"white"}},he=Object(a["e"])("h1",null,"You've got lost!",-1),pe=Object(a["g"])("Wanna go home?");function be(e,t){const i=Object(a["x"])("router-link");return Object(a["s"])(),Object(a["d"])("div",re,[he,Object(a["h"])(i,{to:"/"},{default:Object(a["D"])(()=>[pe]),_:1})])}const ge={};ge.render=be;var ue=ge;const me=[{path:"/",name:"Home",component:de},{path:"/about",name:"About",component:function(){return i.e("about").then(i.bind(null,"f820"))}},{path:"/:pathMatch(.*)*",name:"Lost",component:ue}],fe=Object(ne["a"])({history:Object(ne["b"])("/"),routes:me});var Oe=fe;Object(a["c"])(se).use(Oe).mount("#app")},"59c4":function(e,t,i){"use strict";i("1005")},"5af5":function(e,t,i){},"8c81":function(e,t,i){"use strict";i("d75b")},d75b:function(e,t,i){}});
//# sourceMappingURL=app.9697f85e.js.map